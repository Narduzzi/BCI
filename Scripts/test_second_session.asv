clc;
clear all; 
close all;

load('data_ricardo2.mat')
features_extracted = process_session2(signal_down, header_down);

test_features = features_extracted(:,3:end);
test_labels = features_extracted(:,1);

load('classifier_ricardo_fisher.mat');
nb_features = 340;
[yhat_dqda, score, autre] = predict(classifier, test_features(:,orderedInd(1:nb_features))); 

[test_err] = classerror(test_labels, yhat); 
fprintf('Test Error : %0.3f\n ',test_err);
C = confusionmat(test_labels, yhat_dqda)
[X,Y,T,AUC] = perfcurve(test_labels, scores, 1);

% %% Test with PCA
% load('classifier_test.mat');
% 
% test_features = features_extracted(:,3:end);
% test_labels = features_extracted(:,1);
% [coeff, features_pca, variance] = pca(test_features);
% test_features = features_pca(:,1:100);
% yhat_lda = predict(classifier_lda, test_features);
% [test_err] = classerror(test_labels, yhat_lda); 
% 
% fprintf('Test Error : %0.3f\n ',test_err);
% C = confusionmat(test_labels, yhat_lda)



